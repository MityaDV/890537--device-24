for(var buttons=document.querySelectorAll(".slider-button-list .slider-button"),slides=document.querySelectorAll(".slider-list .slider-item"),slideActive,servicesButton=document.querySelectorAll(".services-item .btn-services"),servicesContent=document.querySelectorAll(".services-content .services-column"),servicesActive,contacts=document.querySelector(".btn-contacts"),letter=document.querySelector(".modal-letter"),closeLetter=letter.querySelector(".modal-close"),form=letter.querySelector(".letter-form"),login=letter.querySelector("[name=login-user]"),email=letter.querySelector("[name=email-user]"),text=letter.querySelector("[name=letter-user]"),isStorageSupport=!0,storage="",storageEmail="",info=document.getElementById(["js-actions-map"]),map=document.querySelector(".modal-map"),close=map.querySelector(".modal-close"),toggleSlides=function(a){for(var b=0;b<slides.length;b++)slides[b].classList.remove("slider-item-active");a.classList.add("slider-item-active")},onButtonClick=function(){slideActive=document.getElementById(this.dataset.slide),toggleSlides(slideActive)},i=0;i<buttons.length;i++)buttons[i].addEventListener("click",onButtonClick),buttons[i].addEventListener("click",function(){var a=document.getElementsByClassName("slider-button-active");a[0].className=a[0].className.replace(" slider-button-active",""),this.className+=" slider-button-active"});for(var toggleContent=function(a){for(var b=0;b<servicesContent.length;b++)servicesContent[b].classList.remove("services-active");a.classList.add("services-active")},onBtnClick=function(){servicesActive=document.getElementById(this.dataset.services),toggleContent(servicesActive)},i=0;i<servicesButton.length;i++)servicesButton[i].addEventListener("click",onBtnClick),servicesButton[i].addEventListener("click",function(a){a.preventDefault(),servicesButton[i].focus();var b=document.getElementsByClassName("services-active");b[0].className=b[0].className.replace(" services-active",""),this.className+=" services-active"});try{storage=localStorage.getItem("login"),storageEmail=localStorage.getItem("email")}catch(err){isStorageSupport=!1}contacts.addEventListener("click",function(a){a.preventDefault(),letter.classList.add("modal-open"),storage?(login.value=storage,email.value=storageEmail,text.focus()):login.focus()}),closeLetter.addEventListener("click",function(a){a.preventDefault(),letter.classList.remove("modal-open"),letter.classList.remove("modal-error")}),form.addEventListener("submit",function(a){login.value&&email.value&&text.value?isStorageSupport&&(localStorage.setItem("login",login.value.trim()),localStorage.setItem("email",email.value.trim())):(letter.classList.add("modal-error"),a.preventDefault())}),document.addEventListener("keyup",function(a){27===a.keyCode&&(a.preventDefault(),letter.classList.contains("modal-open")&&(letter.classList.remove("modal-open"),letter.classList.remove("modal-error")))}),info.addEventListener("click",function(a){a.preventDefault(),map.classList.add("modal-open")}),close.addEventListener("click",function(a){a.preventDefault(),map.classList.remove("modal-open")}),document.addEventListener("keyup",function(a){27===a.keyCode&&(a.preventDefault(),map.classList.contains("modal-open")&&map.classList.remove("modal-open"))});